---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: workspace-admin
role:
  apiVersion: iam.kubesphere.io/v1alpha2
  kind: WorkspaceRole
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-manage-workspace-settings","role-template-manage-projects","role-template-view-projects","role-template-create-projects","role-template-create-devops","role-template-view-devops","role-template-manage-devops","role-template-manage-app-templates","role-template-view-app-templates","role-template-manage-app-repos","role-template-view-app-repos","role-template-view-members","role-template-manage-members","role-template-manage-roles","role-template-view-roles","role-template-manage-groups","role-template-view-groups"]'
      kubesphere.io/creator: system
    name: admin
  rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: workspace-viewer
role:
  apiVersion: iam.kubesphere.io/v1alpha2
  kind: WorkspaceRole
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-view-projects","role-template-view-devops","role-template-view-app-templates","role-template-view-app-repos","role-template-view-members","role-template-view-roles","role-template-view-groups","role-template-view-workspace-settings"]'
      kubesphere.io/creator: system
    name: viewer
  rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: workspace-regular
role:
  apiVersion: iam.kubesphere.io/v1alpha2
  kind: WorkspaceRole
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-view-workspace-settings"]'
      kubesphere.io/creator: system
    name: regular
  rules:
    - apiGroups:
        - '*'
      resources:
        - workspaces
        - workspacemembers
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - monitoring.kubesphere.io
        - metering.kubesphere.io
        - monitoring.coreos.com
      resources:
        - namespaces
      verbs:
        - list

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: workspace-self-provisioner
role:
  apiVersion: iam.kubesphere.io/v1alpha2
  kind: WorkspaceRole
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-create-projects","role-template-create-devops","role-template-view-app-templates","role-template-manage-app-templates","role-template-view-workspace-settings"]'
      kubesphere.io/creator: system
    name: self-provisioner
  rules:
    - apiGroups:
        - '*'
      resources:
        - workspaces
        - workspacemembers
        - quotas
        - abnormalworkloads
        - pods
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - '*'
      resources:
        - namespaces
        - federatednamespaces
        - devops
        - devopsprojects
      verbs:
        - create
        - watch
    - apiGroups:
        - monitoring.kubesphere.io
        - metering.kubesphere.io
        - monitoring.coreos.com
      resources:
        - namespaces
        - workloads
      verbs:
        - get
        - list
    - apiGroups:
        - 'openpitrix.io'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: project-admin
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-view-members","role-template-manage-members",
        "role-template-view-roles","role-template-manage-roles",
        "role-template-view-app-workloads","role-template-manage-app-workloads",
        "role-template-view-volumes","role-template-manage-volumes",
        "role-template-view-snapshots","role-template-manage-snapshots",
        "role-template-view-secrets","role-template-manage-secrets",
        "role-template-view-serviceaccount","role-template-manage-serviceaccount",
        "role-template-view-configmaps","role-template-manage-configmaps",
        "role-template-view-alerting-policies","role-template-manage-alerting-policies",
        "role-template-view-alerting-messages","role-template-manage-alerting-messages",
        "role-template-view-custom-monitoring","role-template-manage-custom-monitoring",
        "role-template-view-pipelines","role-template-manage-pipelines",
        "role-template-view-credentials","role-template-manage-credentials",
        "role-template-manage-project-settings","role-template-manage-devops-settings"]'
      kubesphere.io/creator: system
    name: admin
  rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: project-operator
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-view-members","role-template-view-roles",
        "role-template-view-app-workloads","role-template-manage-app-workloads",
        "role-template-view-volumes","role-template-manage-volumes",
        "role-template-view-snapshots","role-template-manage-snapshots",
        "role-template-view-secrets","role-template-manage-secrets",
        "role-template-view-serviceaccount","role-template-manage-serviceaccount",
        "role-template-view-configmaps","role-template-manage-configmaps",
        "role-template-view-alerting-policies","role-template-manage-alerting-policies",
        "role-template-view-alerting-messages","role-template-manage-alerting-messages",
        "role-template-view-custom-monitoring","role-template-manage-custom-monitoring",
        "role-template-view-pipelines","role-template-manage-pipelines",
        "role-template-view-credentials","role-template-manage-credentials"]'
      kubesphere.io/creator: system
    name: operator
  rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - ""
        - apps
        - extensions
        - batch
        - logging.kubesphere.io
        - monitoring.kubesphere.io
        - monitoring.coreos.com
        - metering.kubesphere.io
        - notification.kubesphere.io
        - autoscaling
        - alerting.kubesphere.io
        - openpitrix.io
        - app.k8s.io
        - servicemesh.kubesphere.io
        - operations.kubesphere.io
        - devops.kubesphere.io
        - resources.kubesphere.io
        - config.istio.io
        - events.k8s.io
        - events.kubesphere.io
        - snapshot.storage.k8s.io
        - monitoring.coreos.com
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: project-viewer
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/aggregation-roles: '["role-template-view-members","role-template-view-roles",
        "role-template-view-app-workloads","role-template-view-custom-monitoring",
        "role-template-view-volumes","role-template-view-snapshots",
        "role-template-view-secrets","role-template-view-configmaps","role-template-view-serviceaccount",
        "role-template-view-alerting-policies","role-template-view-alerting-messages",
        "role-template-view-pipelines","role-template-view-credentials"]'
      kubesphere.io/creator: system
    name: viewer
  rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch


---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-alerting-messages
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Monitoring & Alerting
      iam.kubesphere.io/role-template-rules: '{"alerts": "view"}'
      kubesphere.io/alias-name: Alerting Messages View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-alerting-messages
  rules:
    - apiGroups:
        - 'alerting.kubesphere.io'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-alerting-messages
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-alerting-messages"]'
      iam.kubesphere.io/module: Monitoring & Alerting
      iam.kubesphere.io/role-template-rules: '{"alerts": "manage"}'
      kubesphere.io/alias-name: Alerting Messages Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-alerting-messages
  rules:
    - apiGroups:
        - 'alerting.kubesphere.io'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-alerting-policies
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Monitoring & Alerting
      iam.kubesphere.io/role-template-rules: '{"alert-rules": "view"}'
      kubesphere.io/alias-name: Alerting Policies View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-alerting-policies
  rules:
    - apiGroups:
        - 'alerting.kubesphere.io'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - 'resources.kubesphere.io'
      resources:
        - '*'
      verbs:
        - list

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-alerting-policies
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-alerting-policies"]'
      iam.kubesphere.io/module: Monitoring & Alerting
      iam.kubesphere.io/role-template-rules: '{"alert-rules": "manage"}'
      kubesphere.io/alias-name: Alerting Policies Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-alerting-policies
  rules:
    - apiGroups:
        - 'alerting.kubesphere.io'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-custom-monitoring
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Monitoring & Alerting
      iam.kubesphere.io/role-template-rules: '{"custom-monitoring": "view"}'
      kubesphere.io/alias-name: Custom Monitoring View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-custom-monitoring
  rules:
    - apiGroups:
        - 'monitoring.kubesphere.io'
        - 'metering.kubesphere.io'
        - 'monitoring.coreos.com'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-custom-monitoring
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-custom-monitoring"]'
      iam.kubesphere.io/module: Monitoring & Alerting
      iam.kubesphere.io/role-template-rules: '{"custom-monitoring": "manage"}'
      kubesphere.io/alias-name: Custom Monitoring Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-custom-monitoring
  rules:
    - apiGroups:
        - 'monitoring.kubesphere.io'
        - 'metering.kubesphere.io'
        - 'monitoring.coreos.com'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-members
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Access Control
      iam.kubesphere.io/role-template-rules: '{"members": "view"}'
      kubesphere.io/alias-name: Project Members View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-members
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'members'
        - 'rolebindings'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-members
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-members","role-template-view-roles"]'
      iam.kubesphere.io/module: Access Control
      iam.kubesphere.io/role-template-rules: '{"members": "manage"}'
      kubesphere.io/alias-name: Project Members Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-members
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'members'
        - 'rolebindings'
      verbs:
        - '*'


---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-namespace-basic
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/role-template-rules: '{"basic": "view"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-basic
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'namespaces'
        - 'quotas'
        - 'abnormalworkloads'
        - 'workloads'
        - 'limitranges'
        - 'events'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-devops-basic
  labels:
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/role-template-rules: '{"basic": "view"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-basic
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'devops'
        - 'devopsprojects'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-project-settings
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Project Settings
      iam.kubesphere.io/role-template-rules: '{"project-settings": "manage"}'
      kubesphere.io/alias-name: Project Settings
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-project-settings
  rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-roles
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-members"]'
      iam.kubesphere.io/module: Access Control
      iam.kubesphere.io/role-template-rules: '{"roles": "view"}'
      kubesphere.io/alias-name: Project Roles View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-roles
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'roles'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-roles
  labels:
    scope.kubesphere.io/namespace: ""
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-roles"]'
      iam.kubesphere.io/module: Access Control
      iam.kubesphere.io/role-template-rules: '{"roles": "manage"}'
      kubesphere.io/alias-name: Project Roles Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-roles
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'roles'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-app-workloads
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-volumes","role-template-view-secrets","role-template-view-configmaps"]'
      iam.kubesphere.io/module: Application Workloads
      iam.kubesphere.io/role-template-rules: '{"applications":"view","deployments":"view","statefulsets":"view",
        "daemonsets":"view","jobs":"view","cronjobs":"view","pods":"view","services":"view","ingresses":"view"}'
      kubesphere.io/alias-name: Application Workloads View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-app-workloads
  rules:
    - apiGroups:
        - 'monitoring.kubesphere.io'
        - 'metering.kubesphere.io'
        - 'monitoring.coreos.com'
        - 'servicemesh.kubesphere.io'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - '*'
      resources:
        - services
        - applications
        - controllerrevisions
        - deployments
        - replicasets
        - statefulsets
        - daemonsets
        - jobs
        - cronjobs
        - pods
        - pods/log
        - pods/containers
        - services
        - ingresses
        - router
        - s2ibinaries
        - s2ibinaries/file
        - s2ibuilders
        - s2ibuildertemplates
        - s2iruns
        - horizontalpodautoscalers
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-app-workloads
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-app-workloads"]'
      iam.kubesphere.io/module: Application Workloads
      iam.kubesphere.io/role-template-rules: '{"applications":"manage","deployments":"manage","statefulsets":"manage",
        "daemonsets":"manage","jobs":"manage","cronjobs":"manage","pods":"manage","services":"manage","ingresses":"manage",
        "s2ibuilders":"manage","grayscale-release": "manage"}'
      kubesphere.io/alias-name: Application Workloads Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-app-workloads
  rules:
    - apiGroups:
        - '*'
      resources:
        - services
        - applications
        - controllerrevisions
        - deployments
        - replicasets
        - statefulsets
        - daemonsets
        - jobs
        - cronjobs
        - pods
        - pods/log
        - pods/containers
        - services
        - ingresses
        - router
        - workloads
        - s2ibinaries
        - s2ibinaries/file
        - s2ibuilders
        - s2ibuildertemplates
        - s2iruns
        - horizontalpodautoscalers
      verbs:
        - '*'
    - apiGroups:
        - '*'
      resources:
        - 'secrets'
      verbs:
        - list
    - apiGroups:
        - 'servicemesh.kubesphere.io'
      resources:
        - '*'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-configmaps
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Configuration Center
      iam.kubesphere.io/role-template-rules: '{"configmaps": "view"}'
      kubesphere.io/alias-name: ConfigMaps View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-configmaps
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'configmaps'
      verbs:
        - get
        - list
        - watch


---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-configmaps
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-configmaps"]'
      iam.kubesphere.io/module: Configuration Center
      iam.kubesphere.io/role-template-rules: '{"configmaps": "manage"}'
      kubesphere.io/alias-name: ConfigMaps Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-configmaps
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'configmaps'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-secrets
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Configuration Center
      iam.kubesphere.io/role-template-rules: '{"secrets": "view"}'
      kubesphere.io/alias-name: Secrets View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-secrets
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'secrets'
      verbs:
        - get
        - list
        - watch


---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-secrets
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-secrets"]'
      iam.kubesphere.io/module: Configuration Center
      iam.kubesphere.io/role-template-rules: '{"secrets": "manage"}'
      kubesphere.io/alias-name: Secrets Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-secrets
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'secrets'
      verbs:
        - '*'
---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-serviceaccount
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-roles","role-template-view-secrets"]'
      iam.kubesphere.io/module: Configuration Center
      iam.kubesphere.io/role-template-rules: '{"serviceaccounts": "view"}'
      kubesphere.io/alias-name: ServiceAccount View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-serviceaccount
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'serviceaccounts'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-serviceaccount
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-serviceaccount"]'
      iam.kubesphere.io/module: Configuration Center
      iam.kubesphere.io/role-template-rules: '{"serviceaccounts": "manage"}'
      kubesphere.io/alias-name: ServiceAccount Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-serviceaccount
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'serviceaccounts'
      verbs:
        - '*'
---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-volumes
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-snapshots"]'
      iam.kubesphere.io/module: Storage Management
      iam.kubesphere.io/role-template-rules: '{"volumes": "view"}'
      kubesphere.io/alias-name: Volumes View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-volumes
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'persistentvolumeclaims'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - '*'
      resources:
        - 'pods'
      verbs:
        - 'list'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-volumes
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-volumes","role-template-manage-snapshots"]'
      iam.kubesphere.io/module: Storage Management
      iam.kubesphere.io/role-template-rules: '{"volumes": "manage"}'
      kubesphere.io/alias-name: Volumes Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-volumes
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'persistentvolumeclaims'
      verbs:
        - '*'
    - apiGroups:
        - '*'
      resources:
        - 'pods'
      verbs:
        - 'list'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-snapshots
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Storage Management
      iam.kubesphere.io/role-template-rules: '{"volume-snapshots": "view"}'
      kubesphere.io/alias-name: Volume Snapshots View
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-snapshots
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'volumesnapshots'
      verbs:
        - get
        - list
        - watch

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-snapshots
  labels:
    scope.kubesphere.io/namespace: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-snapshots"]'
      iam.kubesphere.io/module: Storage Management
      iam.kubesphere.io/role-template-rules: '{"volume-snapshots": "manage"}'
      kubesphere.io/alias-name: Volume Snapshots Management
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-snapshots
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'volumesnapshots'
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-credentials
  labels:
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-credentials"]'
      iam.kubesphere.io/module: Credentials Management
      kubesphere.io/alias-name: Credentials Management
      iam.kubesphere.io/role-template-rules: '{"credentials": "manage"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-credentials
  rules:
    - apiGroups:
        - '*'
      resources:
        - credentials
        - credentials/usage
      verbs:
        - '*'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-pipelines
  labels:
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/dependencies: '["role-template-view-pipelines", "role-template-view-credentials"]'
      iam.kubesphere.io/module: Pipelines Management
      kubesphere.io/alias-name: Pipelines Management
      iam.kubesphere.io/role-template-rules: '{"pipelines": "manage"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-pipelines
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'pipelines'
        - 'pipelines/runs'
        - 'pipelines/branches'
        - 'pipelines/checkScriptCompile'
        - 'pipelines/consolelog'
        - 'pipelines/scan'
        - 'pipelines/sonarstatus'
      verbs:
        - '*'


---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-credentials
  labels:
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Credentials Management
      kubesphere.io/alias-name: Credentials View
      iam.kubesphere.io/role-template-rules: '{"credentials": "view"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-credentials
  rules:
    - apiGroups:
        - '*'
      resources:
        - credentials
        - credentials/usage
      verbs:
        - 'get'
        - 'list'
        - 'watch'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-view-pipelines
  labels:
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: Pipelines Management
      kubesphere.io/alias-name: Pipelines View
      iam.kubesphere.io/role-template-rules: '{"pipelines": "view"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-view-pipelines
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'pipelines'
        - 'pipelines/runs'
        - 'pipelines/branches'
        - 'pipelines/checkScriptCompile'
        - 'pipelines/consolelog'
        - 'pipelines/scan'
        - 'pipelines/sonarstatus'
      verbs:
        - 'get'
        - 'list'
        - 'watch'

---
apiVersion: iam.kubesphere.io/v1alpha2
kind: RoleBase
metadata:
  name: role-template-manage-devops-settings
  labels:
    scope.kubesphere.io/devops: ""
role:
  apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    annotations:
      iam.kubesphere.io/module: DevOps Settings
      kubesphere.io/alias-name: DevOps Settings
      iam.kubesphere.io/role-template-rules: '{"devops-settings": "manage"}'
    labels:
      iam.kubesphere.io/role-template: "true"
    name: role-template-manage-devops-settings
  rules:
    - apiGroups:
        - '*'
      resources:
        - 'devops'
        - 'devopsprojects'
      verbs:
        - '*'